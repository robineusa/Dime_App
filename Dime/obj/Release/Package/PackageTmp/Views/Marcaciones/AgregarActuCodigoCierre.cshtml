@model Telmexla.Servicios.DIME.Entity.PqrMaestroCodCierre

@{
    if (Model.Id != 0)
    {
        ViewBag.Title = "Actualizar Código Cierre";
        ViewBag.Subtitle = "Marcaciones";
    }
    else
    {
        ViewBag.Title = "Agregar Código Cierre";
        ViewBag.Subtitle = "Marcaciones";
    }

    Layout = "~/Views/Shared/_Layout.cshtml";
}
@if (Session["Administracion Marcaciones"] != null)
{
    using (Html.BeginForm("AgregarActuCodigoCierre", "Marcaciones", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { role = "form" }))
    {

    <div class="info-box" id="pregunta1" style="margin-left:0px;margin-top:5px;">
        <span class="info-box-icon bg-red"><i class="fa fa-exclamation-circle" aria-hidden="true"></i></span>
        <div class="info-box-content bg-gray-light" style="height:90px;font-weight:600;padding-top:35px;">
            <span class="info-box-text" style="text-align:left,center; text-transform:initial;">Este es el proceso para agregar un nuevo código de cierre, recuerda haber consultado antes que el código de cierre no esté ya creado, y agregue la información de acuerdo al código que va a crear.</span>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="box box-danger">
                <div class="box-body">
                    <div class="row">
                        <div class="col-xs-12">
                            <br />
                            <div style="background-color:#dcdcdc; padding-left:10px; padding-bottom:10px; margin-top:-10px; margin-left: -10px; padding-right:10px;">
                                @Html.HiddenFor(m => m.Id)
                                <table style="margin-left:20px;min-width:1200px;">
                                    <tr>
                                        <td width="100">
                                            <label>Razón</label>
                                            @Html.TextBoxFor(m => m.Razon, null, new { id = "Razon", @class = "form-control ", @maxlength = "3", @style = "text-transform:uppercase;", @onkeyup = "javascript:this.value=this.value.toUpperCase();" })

                                        </td>
                                        <td width="100" style="padding-left:2px;">
                                            <label>Sub Razón</label>
                                            @Html.TextBoxFor(m => m.SubRazon, null, new { id = "Subrazon", @class = "form-control ", @maxlength = "3", @style = "text-transform:uppercase;", @onkeyup = "javascript:this.value=this.value.toUpperCase();" })
                                        </td>
                                        <td width="100" style="padding-left:2px;">
                                            <label>Código RR</label>
                                            @Html.TextBoxFor(m => m.CodigoRr, null, new { id = "subMarcacion", @class = "form-control " })
                                        </td>

                                    </tr>
                                </table>
                                <table style="margin-left:20px;min-width:1200px;">
                                    <tr>
                                        <td width="400" style="padding-left:2px;">
                                            <label>Código Cierre</label>
                                            @Html.TextBoxFor(m => m.CodigoCierre, null, new { id = "PosibleCausa", @class = "form-control", @style = "text-transform:uppercase;", @onkeyup = "javascript:this.value=this.value.toUpperCase();" })
                                        </td>
                                        <td width="200" style="padding-left:2px;">
                                            <label>Clase</label>
                                            @Html.DropDownListFor(m => m.Clase, new List<SelectListItem> {new SelectListItem{Text="GESTION INTERNA", Value="GESTION INTERNA" },
                                                                                new SelectListItem{Text="PETICION", Value="PET" },
                                                                                             new SelectListItem{Text="QUEJA", Value="QUE" },
                                                                                                  new SelectListItem{Text="TICKET", Value="TICKET" },                                              },
                                                                                                "-SELECCIONE-", new { id = "Clase", @class = "form-control", @Value = Model.Clase })
                                        </td>

                                    </tr>

                                </table>

                                <table style="margin-left:20px;min-width:1200px;">
                                    <tr>
                                        <td width="200" style="padding-left:4px;">
                                            <label>Reporte SIC </label>
                                            @Html.TextBoxFor(m => m.ReporteSic, null, new { id = "areaUsuarioEscalar", @class = "form-control", @style = "text-transform:uppercase;", @onkeyup = "javascript:this.value=this.value.toUpperCase();" })
                                        </td>
                                        <td width="200" style="padding-left:4px;">
                                            <label>Producto</label>
                                            @Html.TextBoxFor(m => m.Producto, null, new { id = "quienFinaliza", @class = "form-control", @style = "text-transform:uppercase;", @onkeyup = "javascript:this.value=this.value.toUpperCase();" })
                                        </td>
                                        <td width="200" style="padding-left:4px;"></td>
                                    </tr>
                                </table>



                                <br />
                                <button type="submit" class="btn btn-primary" name="cambiarDatos" value="sacarDatos" id="submitGetDatos" style="margin-left: 1.5%;">Guardar</button>
                                <div class="box-footer" style="margin-left:10px; display:none;">
                                    @Html.ValidationMessageFor(m => m.Razon, "", new { @class = "text-danger" })<br />
                                    @Html.ValidationMessageFor(m => m.SubRazon, "", new { @class = "text-danger" })<br />

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    }
                        @section Scripts {
                          
                            @Scripts.Render("~/AdminLTEplugins/bootstrap-wysihtml5/js")
                            @Scripts.Render("~/ScriptsForms/Editors")

                            <script src="~/Scripts/Marcaciones/AddUpdCodigoCierre.js?1.0.2"></script>
                            <script src="~/AdminLTE/plugins/ckeditor/js/ckeditor.js"></script>
                        }
}
else
{
    <div class="row">

        <div class="box box-primary">

            <div class="box-body">

                <div class="row">
                    <div class="col-md-12">
                        <div class="error-page">
                            <h2 class="headline text-red" style="margin-top:-18px;">502</h2>
                            <div class="error-content">
                                <h3><i class="fa fa-warning text-red"></i> Oops! Acceso Denegado.</h3>
                                <p style="text-align:justify;">
                                    La información que se relaciona en esta vista no es posible visualizarse ya que su perfil no posee el acceso necesario.
                                    Por favor solicite al administrador del sistema el acceso correspondiente.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}