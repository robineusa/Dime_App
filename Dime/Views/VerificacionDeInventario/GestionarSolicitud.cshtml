@model Telmexla.Servicios.DIME.Entity.ViewModelVerificacionInventario
@{
    ViewBag.Title = "Gestonar Solicitud Verificación de Inventario";
    ViewBag.Subtitle = "Procesos Cierre de Ciclo";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@if (Session["Gestionar Solicitud Inventario"] != null)
{
    using (Html.BeginForm("GestionarSolicitud", "VerificacionDeInventario", FormMethod.Post, new { id = "verificacioninventario", role = "form" }))
    {
        @Html.AntiForgeryToken()
        <div class="row">

            <div class="box box-primary">

                <div class="box-body">

                    <div class="row">
                        <div class="col-md-12">
                            <h4>Histórico de Interacciones</h4>
                            <hr style="border-color:gray;border-width:2px;margin-top:-3px;" />

                            <h2 class="text-red"> @ViewBag.NohayBase</h2>
                            <div id="InteraccionesSolicitud"></div>
                        </div>
                    </div>
                    <h4>Información de la Solicitud</h4>
                    <hr style="border-color:gray;border-width:2px;margin-top:-3px;" />
                    <div class="row">
                        <div class="col-md-12">
                            <div class="tab-content" >
                                <div class="tab-pane tab-dime-first active" role="tabpanel" id="inforacioningreso">
                                    <table>
                                        <tr>
                                            <td width="200">
                                                <small>Id Solicitud:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.IdSolicitud, new { @class = "form-control input-sm", id = "idsolicitud", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Fecha de Solicitud:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.FechaSolicitud, new { @class = "form-control input-sm", id = "fechasolicitud", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Usuario de Solicitud:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.UsuarioSolicitud, new { @class = "form-control input-sm", id = "usuariosolicitud", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Nombre Usuario de Solicitud:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.UsuarioSolicitud, new { @class = "form-control input-sm", id = "nombreusuariosolicitud", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Aliado de Solicitud:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.AliadoSolicitud, new { @class = "form-control input-sm", id = "aliadosolicitud", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Operacion de Solicitud:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.OperacionSolicitud, new { @class = "form-control input-sm", id = "operacionsolicitud", @readonly = "true" })
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="200">
                                                <small>Fecha Actualización:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.FechaUltimaActualizacion, new { @class = "form-control input-sm", id = "fechaactualizacion", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Usuario Actualización:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.UsuarioUltimaActualizacion, new { @class = "form-control input-sm", id = "usuarioactualizacion", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Nombre Usuario Actualización:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.NombreUsuarioUltimaActualizacion, new { @class = "form-control input-sm", id = "nombreusuarioactualizacion", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Cuenta Cliente:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.CuentaCliente, new { @class = "form-control input-sm", id = "cuentacliente", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Tipo de Requerimiento:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.TipoDeRequerimiento, new { @class = "form-control input-sm", id = "tipoderequerimiento", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Requiere Ajuste:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.RequiereAjuste, new { @class = "form-control input-sm", id = "requiereajuste", @readonly = "true" })
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h4>Equipos Registrados</h4>
                            <hr style="border-color:gray;border-width:2px;margin-top:-3px;" />
                            <div id="EquiposRegistrados"></div>
                            <br />
                            <table>
                                <tr>
                                    <td width="50" style="padding:2px;"><a style="width:100%;" class="btn btn-block btn-danger" href="@Url.Action("AdministrarEquipos", "VerificacionDeInventario",new {IdSolicitud=Model.VIPSolicitudes.IdSolicitud})">Agregar Equipos </a></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <h4>Información del Nodo</h4>
                    <hr style="border-color:gray;border-width:2px;margin-top:-3px;" />
                    <div class="row">
                        <div class="col-md-12">
                            <div class="tab-content">
                                <div class="tab-pane tab-dime-first active" role="tabpanel" id="inforacioningreso">
                                    <table>
                                        <tr>
                                            <td width="200">
                                                <small>Nodo:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.Nodo, new { @class = "form-control input-sm", id = "nodo", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Divisional:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.Divisional, new { @class = "form-control input-sm", id = "divisional", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Área:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.Area, new { @class = "form-control input-sm", id = "area", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Zona:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.Zona, new { @class = "form-control input-sm", id = "zona", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Distrito:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.Distrito, new { @class = "form-control input-sm", id = "distrito", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Id Nodo:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.IdNodo, new { @class = "form-control input-sm", id = "idnodo", @readonly = "true" })
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="200">
                                                <small>Id Comunidad:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.IdComunidad, new { @class = "form-control input-sm", id = "idcomunidad", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Descripción Comunidad:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.DscComunidad, new { @class = "form-control input-sm", id = "dsccomunidad", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Descripción División:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.Divisional, new { @class = "form-control input-sm", id = "dscdivision", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Red:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.Red, new { @class = "form-control input-sm", id = "red", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Aliado Zonificado:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.AliadoZonificado, new { @class = "form-control input-sm", id = "aliadozonificado", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Aliado Lls:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.AliadoLls, new { @class = "form-control input-sm", id = "aliadoLls", @readonly = "true" })
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="200">
                                                <small>Regional:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.Regional, new { @class = "form-control input-sm", id = "regional", @readonly = "true" })
                                            </td>
                                            <td width="200">
                                                <small>Regional 2:</small>
                                                @Html.TextBoxFor(m => m.NodosZonificados.Regional2, new { @class = "form-control input-sm", id = "regional2", @readonly = "true" })
                                            </td>
                                        </tr>
                                    </table>

                                </div>
                            </div>
                        </div>
                    </div>
                    <h4>Gestión Back Verificación De Inventario</h4>
                    <hr style="border-color:gray;border-width:2px;margin-top:-3px;" />
                    <div class="row">
                        <div class="col-md-12">
                            <div class="tab-content">
                                <div class="tab-pane tab-dime-first active" role="tabpanel" id="gestioncelulacrdireccion">
                                    <table>
                                        <tr>
                                            <td width="300">
                                                <small>Gestión:</small>
                                                @Html.DropDownListFor(m => m.VIPSolicitudes.Gestion, new List<SelectListItem> { }, "--SELECCIONE--", new { Id = "Gestion", @class = "form-control input-sm" })
                                            </td>
                                            <td width="300">
                                                <small>Subrazón:</small>
                                                @Html.DropDownListFor(m => m.VIPSolicitudes.Subrazon, new List<SelectListItem> { }, "--SELECCIONE--", new { Id = "Subrazon", @class = "form-control input-sm" })
                                            </td>
                                            <td width="300">
                                                <small>Estado Solicitud:</small>
                                                @Html.TextBoxFor(m => m.VIPSolicitudes.EstadoSolicitud, new { @class = "form-control input-sm", id = "estadosolicitud", @readonly = "true" })
                                            </td>
                                            <td width="300">
                                                <small>Aliado Técnico:</small>
                                                @Html.Hidden("AliadoTecnico1", Model.VIPSolicitudes.AliadoTecnico )
                                                @Html.DropDownListFor(m => m.VIPSolicitudes.AliadoTecnico, new List<SelectListItem> { }, "--SELECCIONE--", new { Id = "AliadoTecnico", @class = "form-control input-sm" })
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>@Html.ValidationMessageFor(m => m.VIPSolicitudes.Gestion, "", new { @class = "text-danger" })</td>
                                            <td>@Html.ValidationMessageFor(m => m.VIPSolicitudes.Subrazon, "", new { @class = "text-danger" })</td>
                                            <td>@Html.ValidationMessageFor(m => m.VIPSolicitudes.EstadoSolicitud, "", new { @class = "text-danger" })</td>
                                            <td>@Html.ValidationMessageFor(m => m.VIPSolicitudes.AliadoTecnico, "", new { @class = "text-danger" })</td>
                                        </tr>
                                    </table>
                                    <table>
                                        <tr>
                                            <td width="1200">
                                                <small>Observaciones:</small>
                                                @Html.TextAreaFor(m => m.VIPSolicitudes.Observaciones, new { @style = "width: 100%; height: 100px;max-height: 100px;max-width:1200px;" })
                                            </td>
                                        </tr>
                                    </table>


                                </div>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="">
                        <button id="submitDatos" type="submit" class="btn btn-primary" name="cambiarDatos" value="true" style="width:10%; height:40px;">Guardar Datos</button>
                    </div>
                </div>
            </div>
        </div>
    }
    @section Scripts{

        @Scripts.Render("~/AdminLTEplugins/jquery-validate/js")
        <script>
            var UrlListadeInteracciones = '@Url.Action("ListaDeInteraccionesPorSolicitud", "VerificacionDeInventario")';
            var UrlListadeGestion = '@Url.Action("TraeListaDeGestiones", "VerificacionDeInventario")';
            var UrlListaSubrazon = '@Url.Action("TraeListaDeSubrazones", "VerificacionDeInventario")';
            var UrlListaAliados = '@Url.Action("TraeListaDeAliadosTecnicos", "VerificacionDeInventario")';
            var UrlListaDeEquiposPorSolicitud = '@Url.Action("TraeListaDeEquiposPorSolicitud", "VerificacionDeInventario")';
            var UrlEstadoCaso = '@Url.Action("TraerEstadoCaso", "VerificacionDeInventario")';
        </script>

        <script src="~/Scripts/VerificacionDeInventario/GestionarSolicitud.js?1.0.3"></script>
@*<link href="~/AdminLTE/Kendo2016.3.11/css/kendo.material.min.css" rel="stylesheet" />*@
    }
}
else
{
    <div class="row">
        <div class="box box-primary">
            <div class="box-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="error-page">
                            <h2 class="headline text-red" style="margin-top:-18px;">502</h2>
                            <div class="error-content">
                                <h3><i class="fa fa-warning text-red"></i> Oops! Acceso Denegado.</h3>
                                <p style="text-align:justify;">
                                    La información que se relaciona en esta vista no es posible visualizarse ya que su perfil no posee el acceso necesario.
                                    Por favor solicite al administrador del sistema el acceso correspondiente.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}

