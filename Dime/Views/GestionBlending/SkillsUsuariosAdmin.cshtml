@model Telmexla.Servicios.DIME.Entity.ViewModelBlending
@{
    ViewBag.Title = "Skills de Usuarios";
    ViewBag.Subtitle = "Administrador Blending";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@if (Session["Administracion Blending"] != null)
{
    using (Html.BeginForm("SkillsUsuariosAdmin", "GestionBlending", FormMethod.Post, new { role = "form", onkeydown = "return event.keyCode!=13" }))
    {
    <div class="row">
        <div class="col-md-9" style="width:100%; ">
            <div class="nav-tabs-custom">
                <ul class="nav nav-tabs">
                    <li id="Li1" class="active" style="background-color: #dcdcdc; border-color: #c23321;"><a href="#Inserta_Usuario" style="background-color: transparent;" data-toggle="tab">Creacion de Usuarios</a></li>
                    <li id="Li2"><a style="background-color: transparent;" href="#Actualiza_Usuario" data-toggle="tab">Actualiza Usuarios</a></li>
                </ul>
                <div class="tab-content" style="padding-left:0; padding-top: 0">
                    <div class="active tab-pane" id="Inserta_Usuario" style="background-color:#dcdcdc; padding-left:10px; padding-bottom:10px;">
                        <br />
                        <strong><i class="fa fa-chevron-circle-down"></i> Datos del Usuario en Holos:</strong>
                        @if (ViewBag.UsuarioExiste != null)
                        {
                            <label style="color:red">@ViewBag.UsuarioExiste</label>
                        }
                        <table>
                            <tr>
                                <td width="200" style="padding:1px;">
                                    <small>Documento de identidad: </small>
                                </td>
                                <td width="200" style="padding:1px;">
                                    <small>Nombre del Usuario:  </small>
                                </td>
                                <td width="200" style="padding:1px;">
                                    <small>Aliado:  </small>
                                </td>
                                <td width="200" style="padding:1px;">
                                    <small>Nombre Linea:  </small>
                                </td>
                                <td width="200" style="padding:1px;">
                                    <small>Usuario RR:  </small>
                                </td>
                                <td width="200" style="padding:1px;">
                                    <small>Usuario Agendamiento:  </small>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.Cedula, new { @class = "form-control input-sm", id = "cedulaCreacion" })
                                </td>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.Nombre, new
                               {
                                   @class = "form-control input-sm",
                                   Value = Model.UsuarioHolos.Nombre1 + " " + Model.UsuarioHolos.Nombre2 +
" " + Model.UsuarioHolos.Apellido1 + " " + Model.UsuarioHolos.Apellido2
       ,
                                   @readonly = "true"
                               })
                                </td>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.Aliado, new { @class = "form-control input-sm", Value = Model.UsuarioHolos.Aliado, @readonly = "true" })
                                </td>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.NombreLinea, new { @class = "form-control input-sm", Value = Model.UsuarioHolos.NombreLinea, @readonly = "true" })
                                </td>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.UsuarioRr, new { @class = "form-control input-sm", Value = Model.UsuarioHolos.UsuarioRr, @readonly = "true" })
                                </td>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.UsuarioAgendamiento, new { @class = "form-control input-sm", Value = Model.UsuarioHolos.UsuarioAgendamiento, @readonly = "true" })
                                </td>
                            </tr>
                            <tr>
                                <td width="200" style="padding:1px;">
                                    <small>Usuario Gerencia:  </small>
                                </td>
                                <td width="200" style="padding:1px;">
                                    <small>Estado:  </small>
                                </td>
                                <td width="200" style="padding:1px;">
                                    <small>Canal:  </small>
                                </td>
                                <td width="200" style="padding:1px;">
                                    <small>Operación:  </small>
                                </td>
                                <td width="200" style="padding:1px;">
                                    <small>Grupo:  </small>
                                </td>
                                <td width="200" style="padding:1px;">
                                    <small>Cargo:  </small>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.UsuarioGerencia, new { @class = "form-control input-sm", Value = Model.UsuarioHolos.UsuarioGerencia, @readonly = "true" })
                                </td>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.Estado, new { @class = "form-control input-sm", Value = Model.UsuarioHolos.Estado, @readonly = "true" })
                                </td>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.Canal, new { @class = "form-control input-sm", Value = Model.UsuarioHolos.Canal, @readonly = "true" })
                                </td>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.Operacion, new { @class = "form-control input-sm", Value = Model.UsuarioHolos.Operacion, @readonly = "true" })
                                </td>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.Grupo, new { @class = "form-control input-sm", Value = Model.UsuarioHolos.Grupo, @readonly = "true" })
                                </td>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.Cargo, new { @class = "form-control input-sm", Value = Model.UsuarioHolos.Cargo, @readonly = "true" })
                                </td>
                            </tr>
                            <tr>
                                <td width="200" style="padding:1px;">
                                    <small>Segmento:  </small>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding:1px;">
                                    @Html.TextBoxFor(m => m.UsuarioHolos.Segmento, new { @class = "form-control input-sm", Value = Model.UsuarioHolos.Segmento, @readonly = "true" })
                                </td>
                            </tr>
                        </table>
                        <br />
                        <strong><i class="fa fa-chevron-circle-down"></i> Nombre de Operacion y Skill a Otorgar:</strong>
                        <table>
                            <tr>
                                <td width="200" style="padding:1px;">
                                    <small>Operacion:  </small>
                                </td>
                                <td width="200" style="padding:1px;">
                                    <small>Skill Blending: </small>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding:1px;">
                                    @Html.DropDownListFor(m => m.SkillsUsuariosBlending.Operacion, new List<SelectListItem>() { }, "-Seleccione-", new { @class = "form-control input-sm", id = "NombreLineasBlendingSelect2" })
                                    
                                </td>
                                <td style="padding:1px;">
                                    @Html.DropDownListFor(m => m.SkillsUsuariosBlending.Campaña, new List<SelectListItem>() { }, "-Seleccione-", new { @class = "form-control input-sm", id = "CampañasBlendingSelect" })
                                    
                                </td>
                            </tr>
                        </table>
                        <button id="consultarUsuario" type="submit" name="opcionMando" value="ConsultarCreando" style="display:none"></button>

                    </div>
                    
                    <div class="tab-pane" id="Actualiza_Usuario" style="background-color:#dcdcdc; padding-left:10px; padding-bottom:10px;">
                        <br />
                        <table>
                            <tr>
                                <td style="padding-left:1px; width:200px;" colspan="2">
                                    <i class="fa fa-chevron-circle-down"></i><strong> Seleccione el Nombre de linea</strong>
                                    @Html.DropDownListFor(m => m.Maestrolineasblendingvacio.NombreLinea, new List<SelectListItem> { }, "--Select Option--", new { Id = "NombreLineasBlendingSelect", @class = "form-control", onchange = "BuscaUsuariosForList();" })

                                </td>
                            </tr>
                        </table>
                        <br />
                        <div id="oculto" style="display:none">
                            <h2 class="page-header" style="margin-top: 25px;">
                                <i class="fa fa-users"></i> Lista de Usuarios
                                @* <small class="pull-right">Date: 2/10/2014</small>*@
                            </h2>
                            <table>
                                <tr>
                                    <td style="padding-left:1px;" colspan="4">
                                        <strong> Seleccione Los usuarios a los cuales desea agregar a una nueva campaña: </strong>
                                        <br />
                                    </td>
                                </tr>
                            </table>
                            <div id="gridViewResult">
                            </div>
                            <br />
                            <table>
                                <tr>
                                    <td style="padding-left:1px;" colspan="4">
                                        <strong> Seleccione La nueva campaña: </strong>
                                        <br />
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding:1px;">
                                        @Html.DropDownListFor(m => m.SkillsUsuariosBlending.Campaña, new List<SelectListItem>() { }, "-Seleccione-", new { @class = "form-control input-sm", id = "CampañasBlendingSelect2" })
                                        
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <br />
                    <button id="Crear_Usuario" type="submit" class="btn btn-block btn-primary btn-lg" name="opcionMando" value="CrearUsuario" style="width: 10%;margin-left: 1%;">Crear Usuario</button>
                    <button id="Actualizar_Usuarios" type="submit" class="btn btn-block btn-primary btn-lg" name="opcionMando" value="ActualizarUsuarios" style="width: 10%;margin-left: 1%; display: none;">Actualizar</button>

                </div>

            </div>
        </div>
    </div>
    }
    @section Scripts{
        <script src="~/Scripts/Gestion_Blending/SkillsUsuariosAdmin.js?1.0.5"></script>
        <script>
            var urlLineas = '@Url.Action("SkillsUsuariosAdminJson", "GestionBlending")';
            var urlUsuariosporOperacion = '@Url.Action("UsuariosporOperacion", "GestionBlending")';
            var urlCampañas = '@Url.Action("ObtenerCampaña", "GestionBlending")';
        </script>
        
    }

}
else
{
    <div class="row">
        <div class="box box-primary">
            <div class="box-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="error-page">
                            <h2 class="headline text-red" style="margin-top:-18px;">502</h2>
                            <div class="error-content">
                                <h3><i class="fa fa-warning text-red"></i> Oops! Acceso Denegado.</h3>
                                <p style="text-align:justify;">
                                    La información que se relaciona en esta vista no es posible visualizarse ya que su perfil no posee el acceso necesario.
                                    Por favor solicite al administrador del sistema el acceso correspondiente.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}

